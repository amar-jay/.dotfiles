"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const projectUtils_1 = require("../../projectUtils");
const loadCJSON = require("../../loadCJSON");
const functions_1 = require("./functions");
const functions_2 = require("./functions");
async function default_1(context, options) {
    var _a;
    if (!context) {
        return;
    }
    const filePath = (_a = options.config.src.remoteconfig) === null || _a === void 0 ? void 0 : _a.template;
    if (!filePath) {
        return;
    }
    const template = loadCJSON(filePath);
    const projectNumber = await projectUtils_1.needProjectNumber(options);
    template.etag = await functions_1.getEtag(projectNumber);
    functions_2.validateInputRemoteConfigTemplate(template);
    context.remoteconfigTemplate = template;
    return;
}
exports.default = default_1;
